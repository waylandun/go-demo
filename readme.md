# 仓库贡献指南

## 项目结构与模块组织
全部示例位于 `lessons/` 目录，每个子目录采用两位数字前缀与蛇形命名，例如 `lessons/05_structs_methods`，并包含单独的 `main.go` 用于演示主题。新增课程时，请按序号追加目录，保证命名清晰、导入仅限标准库，若确需外部依赖需在示例中说明理由与使用方式。若课程需要额外数据文件，应与 `main.go` 保持同级并通过相对路径访问，避免跨目录引用。

## 构建、测试与开发命令
使用 `go run lessons/<lesson_name>/main.go` 独立运行课程示例，例如：
```bash
go run lessons/07_error_handling/main.go
```
提交前务必执行 `gofmt -w lessons/<lesson_name>/main.go`，若修改较多课程，可一并运行 `gofmt -w lessons`。示例脚本需自包含，不依赖外部全局状态；若引入辅助脚本，请在对应课程目录添加简短说明文档。

## 代码风格与命名约定
遵循 Go 官方风格，由 `gofmt` 自动处理缩进（默认制表符）与空行，建议控制行长在 100 字符以内。作为教学范例的导出类型或函数使用 PascalCase，内部辅助函数及变量保持 camelCase。演示代码要体现最佳实践：始终检查错误、避免未使用变量、通过必要注释解释“为什么”，并保持现有中英文注释语气一致。

## 测试指南
当课程包含可验证逻辑时，在同级目录创建 `_test.go` 文件，使用标准 `testing` 框架编写单元测试。初始化模块后，可在仓库根目录执行 `go test ./lessons/...` 运行全部测试；若尚未初始化，请先执行一次 `go mod init go-demo`。测试函数命名应描述行为，例如 `TestUserGreeting`，同时覆盖主路径与课程中强调的边界情形。

## 提交与合并请求规范
提交信息请使用祈使句、聚焦单一主题，如“补充协程池示例”优于泛泛概述；相关课程改动尽量放在同一提交并保持 diff 精简，便于审阅。提交合并请求时请说明教学目标、列出影响的课程目录，并注明新增命令或所需数据；若示例产生交互式输出，可附上截图或终端片段辅助审核。
